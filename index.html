<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'Ontarien</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family:'Press Start 2P', monospace;
    min-height:100vh;
    overflow:hidden;
    background: linear-gradient(to bottom, #0b1a33 0%, #1b2c50 40%, #2b3b60 100%);
    position:relative;
    color:#eee;
}
header {
    background:#4b2e1e;
    padding:20px;
    text-align:center;
    border-bottom:2px solid #3a2419;
    position:sticky;
    top:0;
    z-index:100;
}
header h1 { font-size:2em; color:#ffeedd; text-shadow:1px 1px #3a2419; }
nav a { color:#ffeedd; text-decoration:none; margin:0 12px; font-size:0.8em; transition:0.3s; }
nav a:hover { text-decoration:underline; }

#sceneCanvas { width:100%; height:70vh; display:block; background:#1b2c50; image-rendering: pixelated; }

/* Snowflakes */
.snowflake { position:absolute; top:-10px; color:#fff; font-size:1em; user-select:none; z-index:20; animation-name:fall; animation-duration:10s; animation-iteration-count:infinite; animation-timing-function:linear; text-shadow:2px 2px 4px rgba(0,0,0,0.7);}
@keyframes fall {0%{transform:translateY(0) rotate(0deg);} 100%{transform:translateY(110vh) rotate(360deg);}}

footer { text-align:center; padding:25px; border-top:2px solid #3a2419; font-size:0.7em; color:#ccc; position:relative; z-index:10; }
</style>
</head>
<body>

<header>
<h1>L'Ontarien</h1>
<nav>
    <a href="/">Home</a>
    <a href="/about/">About</a>
    <a href="/download/">Download</a>
    <a href="/credits/">Credits</a>
    <a href="/contact/">Contact</a>
</nav>
</header>

<canvas id="sceneCanvas" width="320" height="180"></canvas>
<div id="snow"></div>

<footer>L'Ontarien © 2025. All Rights Reserved.</footer>

<script>
// === Snowflakes ===
const snowContainer=document.getElementById('snow');
for(let i=0;i<60;i++){
    const snow=document.createElement('div');
    snow.className='snowflake';
    snow.style.left=Math.random()*100+'vw';
    snow.style.fontSize=(Math.random()*8+8)+'px';
    snow.style.animationDuration=(5+Math.random()*5)+'s';
    snow.innerHTML='❄';
    snowContainer.appendChild(snow);
}

// === Scene generation ===
const canvas=document.getElementById('sceneCanvas');
const ctx=canvas.getContext('2d');

function drawPixelRect(x,y,w,h,color){
    ctx.fillStyle=color;
    ctx.fillRect(x,y,w,h);
}

// Procedural hills
function drawHills(){
    for(let i=0;i<canvas.width;i+=5){
        let height=Math.sin(i*0.05)*10+50;
        drawPixelRect(i,canvas.height-height,5,height,'#2b3b60');
    }
}

// Cabins
function drawCabins(){
    for(let i=20;i<canvas.width;i+=60){
        let cabinHeight=10+Math.floor(Math.random()*6);
        drawPixelRect(i,canvas.height-cabinHeight,10,cabinHeight,'#6b3a1e'); // walls
        drawPixelRect(i-2,canvas.height-cabinHeight-5,14,5,'#3a2419'); // roof
    }
}

// Trees
function drawTrees(){
    for(let i=10;i<canvas.width;i+=30){
        let treeHeight=6+Math.floor(Math.random()*10);
        drawPixelRect(i,canvas.height-treeHeight,3,treeHeight,'#1a3a1a'); // trunk
        drawPixelRect(i-3,canvas.height-treeHeight-5,9,5,'#0f2a0f'); // foliage
    }
}

// Cars
let cars=[];
function initCars(){
    for(let i=0;i<3;i++){
        cars.push({x:Math.random()*canvas.width,y:canvas.height-5,dir:Math.random()>0.5?1:-1,color:'#ff3f3f'});
    }
}
function drawCars(){
    cars.forEach(car=>{
        drawPixelRect(car.x,car.y-2,4,2,car.color);
        drawPixelRect(car.x,car.y-3,2,1,'#000'); // window
        car.x+=car.dir*0.5;
        if(car.x>canvas.width) car.x=-5;
        if(car.x<-5) car.x=canvas.width;
    });
}

// Animation loop
initCars();
function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawHills();
    drawCabins();
    drawTrees();
    drawCars();
    requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
