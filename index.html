<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'Ontarien</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family:'Press Start 2P', monospace;
    min-height:100vh;
    overflow:hidden;
    background: linear-gradient(to bottom, #0b1a33 0%, #1b2c50 40%, #2b3b60 100%);
    position:relative;
    color:#eee;
}
header {
    background:#4b2e1e;
    padding:20px;
    text-align:center;
    border-bottom:2px solid #3a2419;
    position:sticky;
    top:0;
    z-index:100;
}
header h1 { font-size:2em; color:#ffeedd; text-shadow:1px 1px #3a2419; }
nav a { color:#ffeedd; text-decoration:none; margin:0 12px; font-size:0.8em; transition:0.3s; }
nav a:hover { text-decoration:underline; }

#sceneCanvas { width:100%; height:70vh; display:block; background:#1b2c50; image-rendering: pixelated; }

/* Snowflakes */
.snowflake { position:absolute; top:-10px; color:#fff; font-size:1em; user-select:none; z-index:20; animation-name:fall; animation-duration:10s; animation-iteration-count:infinite; animation-timing-function:linear; text-shadow:2px 2px 4px rgba(0,0,0,0.7);}
@keyframes fall {0%{transform:translateY(0) rotate(0deg);} 100%{transform:translateY(110vh) rotate(360deg);}}

footer { text-align:center; padding:25px; border-top:2px solid #3a2419; font-size:0.7em; color:#ccc; position:relative; z-index:10; }
</style>
</head>
<body>

<header>
<h1>L'Ontarien</h1>
<nav>
    <a href="/">Home</a>
    <a href="/about/">About</a>
    <a href="/download/">Download</a>
    <a href="/credits/">Credits</a>
    <a href="/contact/">Contact</a>
</nav>
</header>

<canvas id="sceneCanvas" width="320" height="180"></canvas>
<div id="snow"></div>

<footer>L'Ontarien Â© 2025. All Rights Reserved.</footer>

<style>
/* Gradient overlay for warm sunset effect */
#overlay {
    position:absolute;
    top:0; left:0;
    width:100%; height:100%;
    pointer-events:none;
    z-index:5;
    background: linear-gradient(to bottom, rgba(255,180,100,0.2) 0%, rgba(0,0,50,0.3) 100%);
}

/* Optional soft glow behind cabins */
.glow {
    position:absolute;
    width:20px;
    height:20px;
    border-radius:50%;
    background: radial-gradient(circle, rgba(255,200,150,0.6) 0%, rgba(255,200,150,0) 70%);
    pointer-events:none;
    z-index:6;
}
</style>

<div id="overlay"></div>

<script>
const canvas=document.getElementById('sceneCanvas');
const ctx=canvas.getContext('2d');

function drawPixelRect(x,y,w,h,color){
    ctx.fillStyle=color;
    ctx.fillRect(x,y,w,h);
}

function hillY(x){ return Math.sin(x*0.03)*20 + 100; }

let snowflakes=[], cars=[], trees=[], cabins=[], glows=[];

// Initialize elements
for(let i=0;i<60;i++) snowflakes.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,size:Math.random()*8+8,speed:Math.random()*0.5+0.2});
for(let i=0;i<3;i++) cars.push({x:Math.random()*canvas.width, dir:Math.random()>0.5?1:-1, color:'#ff3f3f'});
for(let i=10;i<canvas.width;i+=30) trees.push({x:i, height:10+Math.floor(Math.random()*15), bobOffset:Math.random()*Math.PI*2});
for(let i=30;i<canvas.width;i+=60) {
    let glowElem = document.createElement('div');
    glowElem.className='glow';
    document.body.appendChild(glowElem);
    cabins.push({x:i, height:20+Math.floor(Math.random()*10), windowGlow:Math.random()*0.3+0.7, smokeOffset:Math.random()*Math.PI*2, glow:glowElem});
}

// Draw functions
function drawHills(){ for(let i=0;i<canvas.width;i+=2){ let y=canvas.height-hillY(i); drawPixelRect(i,y,2,canvas.height-y,'#2b3b60'); } }
function drawCabins(time){
    cabins.forEach(c=>{
        let y=canvas.height-hillY(c.x);
        drawPixelRect(c.x,y-c.height,12,c.height,'#6b3a1e'); // walls
        drawPixelRect(c.x-3,y-c.height-8,18,8,'#3a2419'); // roof
        let glowVal=Math.sin(time/500+c.windowGlow)*20+100;
        drawPixelRect(c.x+3,y-c.height+4,6,6,`rgba(255,${glowVal},0,1)`); // glowing window
        // Smoke
        let smokeY=Math.sin(time/700+c.smokeOffset)*5;
        drawPixelRect(c.x+5,y-c.height-10-smokeY,2,2,'rgba(200,200,200,0.5)');
        drawPixelRect(c.x+6,y-c.height-12-smokeY,2,2,'rgba(200,200,200,0.3)');
        // Glow div position
        c.glow.style.left=(c.x+4)+'px';
        c.glow.style.top=(y-c.height-6)+'px';
    });
}
function drawTrees(time){
    trees.forEach(t=>{
        let y=canvas.height-hillY(t.x);
        let bob=Math.sin(time/1000+t.bobOffset)*2;
        drawPixelRect(t.x,y-t.height+bob,3,t.height,'#1a3a1a');
        drawPixelRect(t.x-4,y-t.height-6+bob,11,6,'#0f2a0f');
    });
}
function drawCars(){
    cars.forEach(car=>{
        let y=canvas.height-5;
        drawPixelRect(car.x,y-2,4,2,car.color);
        drawPixelRect(car.x,y-3,2,1,'#000');
        car.x+=car.dir*0.2;
        if(car.x>canvas.width) car.x=-5;
        if(car.x<-5) car.x=canvas.width;
    });
}
function drawSnow(){
    snowflakes.forEach(s=>{
        s.y+=s.speed;
        if(s.y>canvas.height) s.y=0;
        drawPixelRect(s.x,s.y,s.size,s.size,'#fff');
    });
}

function animate(time){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawHills();
    drawCabins(time);
    drawTrees(time);
    drawCars();
    drawSnow();
    requestAnimationFrame(animate);
}
animate(0);
</script>


</body>
</html>
